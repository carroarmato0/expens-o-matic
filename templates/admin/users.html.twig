{% extends 'base.html.twig' %}

{% block title %}expens-o-matic Admin/Users{% endblock %}

{% block body %}

<div class="container">

  <div class="container-fluid p-4">

    <div class="jumbotron p-4">
      <h2>Users</h2>
      {{ form_start(userForm) }}
      <div class="form-group">
        {{ form_label(userForm.name) }}
        {{ form_errors(userForm.name) }}
        {{ form_widget(userForm.name) }}
      </div>
      <div class="form-group">
        {{ form_label(userForm.surname) }}
        {{ form_errors(userForm.surname) }}
        {{ form_widget(userForm.surname) }}
      </div>
      <div class="form-group">
        {{ form_label(userForm.email) }}
        {{ form_errors(userForm.email) }}
        {{ form_widget(userForm.email) }}
      </div>
      <div class="form-group">
        {{ form_label(userForm.password) }}
        {{ form_errors(userForm.password) }}
        {{ form_widget(userForm.password) }}
      </div>
      <div class="form-group">
        {{ form_label(userForm.submit) }}
        {{ form_widget(userForm.submit) }}
      </div>
      {{ form_end(userForm) }}
    </div>

    {% if users is empty %}
      <div class="alert alert-secondary">
        <p class="mb-0">There are no users. How weird :/</p>
      </div>
    {% else %}

      <table class="table table-hover">
        <thead>
          <tr>
            <th scope="col">Name</th>
            <th scope="col">Surname</th>
            <th scope="col">Email</th>
            <th scope="col">Role</th>
          </tr>
        </thead>
        <tbody>
          {% for user in users %}
          <tr>
            <th scope="row">{{ user.name }}</th>
            <td>{{ user.surname }}</td>
            <td>{{ user.email }}</td>
            <td>{{ user.roles | json_encode() }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>

    {% endif %}
  </div>
</div>
{% endblock %}
